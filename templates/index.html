<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=yes, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mätäng emännys</title>
    <link rel="stylesheet" href="/static/stylesheet.css">
    <script src="/static/menu.js" defer></script>
</head>
<body>

<div id="connection"></div>

<div id="main-menu" class="menu-container">
    <h1>Mätäng emännys</h1>
    <div class="menu-options">
        <button onclick="show_create_new_game()">New Game</button>
        <button onclick="show_history()">History</button>
        <button onclick="show_view_game_data()">Scoreboard</button>
        <button onclick="show_deck_data()">Decks</button>
    </div>
</div>

<div id="player-amount" class="menu-container not-main" style="display: none">
    <h1>Create new game</h1>
    <div class="player-options">
        <button onclick="create_new_player()">Create new player</button>
        <button onclick="create_new_deck()">Create new deck</button>
    </div>

    <div id="player-selector">
        <div class="player-select">
            <label for="player-select-1">#1</label>
            <select id="player-select-1" onchange="get_player1_decks()">
                <option value="-"></option>
                <!-- Player options will be populated by JavaScript -->
            </select>

            <label for="deck-select-1">Deck</label>
            <select id="deck-select-1">
                <option value="-"></option>
                <!-- Deck options will be populated by JavaScript -->
            </select>
        </div>
        <div class="player-select">
            <label for="player-select-2">#2</label>
            <select id="player-select-2" onchange="get_player2_decks()">
                <option value="-"></option>
                <!-- Player options will be populated by JavaScript -->
            </select>

            <label for="deck-select-2">Deck</label>
            <select id="deck-select-2">
                <option value="-"></option>
                <!-- Deck options will be populated by JavaScript -->
            </select>
        </div>
        <div class="player-select">
            <label for="player-select-3">#3</label>
            <select id="player-select-3" onchange="get_player3_decks()">
                <option value="-"></option>
                <!-- Player options will be populated by JavaScript -->
            </select>

            <label for="deck-select-3">Deck</label>
            <select id="deck-select-3">
                <option value="-"></option>
                <!-- Deck options will be populated by JavaScript -->
            </select>
        </div>
        <div class="player-select">
            <label for="player-select-4">#4</label>
            <select id="player-select-4" onchange="get_player4_decks()">
                <option value="-"></option>
                <!-- Player options will be populated by JavaScript -->
            </select>

            <label for="deck-select-4">Deck</label>
            <select id="deck-select-4">
                <option value="-"></option>
                <!-- Deck options will be populated by JavaScript -->
            </select>
        </div>
        <div class="player-select">
            <label for="player-select-5">#5</label>
            <select id="player-select-5" onchange="get_player5_decks()">
                <option value="-"></option>
                <!-- Player options will be populated by JavaScript -->
            </select>

            <label for="deck-select-5">Deck</label>
            <select id="deck-select-5">
                <option value="-"></option>
                <!-- Deck options will be populated by JavaScript -->
            </select>
        </div><div class="player-select">
            <label for="player-select-6">#6</label>
            <select id="player-select-6" onchange="get_player6_decks()">
                <option value="-"></option>
                <!-- Player options will be populated by JavaScript -->
            </select>

            <label for="deck-select-6">Deck</label>
            <select id="deck-select-6">
                <option value="-"></option>
                <!-- Deck options will be populated by JavaScript -->
            </select>
        </div>

    </div>
    <button onclick="submit_new_game()">Submit</button>
    <button class="back-button" onclick="to_menu()">Back to menu</button>
</div>


<div id="name-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="close_modal()">&times;</span>
        <h2>Enter Player Name</h2>
        <input type="text" id="player-name-modal" placeholder="Player name">
        <button onclick="submit_name()">Submit</button>
    </div>
</div>

<div id="deck-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="close_deck_modal()">&times;</span>
        <h2>Create New Deck</h2>
        <label for="deck-name-modal">Deck Name</label>
        <input type="text" id="deck-name-modal" placeholder="Deck name">

        <label for="player-select-modal">Select Player</label>
        <select id="player-select-modal">
            <!-- Options will be populated by JavaScript -->
        </select>
        <button onclick="submit_deck()">Submit</button>
    </div>
</div>

<div id="player-data" class="player-container not-main" style="display: none">
    <h1>Scoreboard</h1>
    <table id="player-table" class="data-table">
        <thead>
        <tr>
            <th>Name</th>
            <th>Games</th>
            <th>Wins</th>
            <th>Winrate</th>
            <th>#1 Deck</th>
        </tr>
        </thead>
        <tbody>
        <!-- Rows will be inserted here by JavaScript -->
        </tbody>
    </table>
    <button class="back-button" onclick="to_menu()">Back to menu</button>
</div>

<div id="player-history" class="player-container not-main" style="display: none">
    <h1>Match History</h1>
    <table id="history-table" class="data-table">
        <thead>
        <tr>
            <th>Winner</th>
            <th>2#</th>
            <th>3#</th>
            <th>4#</th>
            <th>5#</th>
            <th>6#</th>
            <th>Date</th>
        </tr>
        </thead>
        <tbody>
        <!-- Match history will be inserted here by JavaScript -->
        </tbody>
    </table>
    <button class="back-button" onclick="to_menu()">Back to menu</button>
</div>

<div id="match-history" class="player-container not-main" style="display: none">
    <h1>Match History</h1>
    <table id="match-table" class="data-table">
        <thead>
        <tr>
            <th>Winner</th>
            <th>2#</th>
            <th>3#</th>
            <th>4#</th>
            <th>5#</th>
            <th>6#</th>
            <th>Date</th>
        </tr>
        </thead>
        <tbody>
        <!-- Match history will be inserted here by JavaScript -->
        </tbody>
    </table>
    <button class="back-button" onclick="to_menu()">Back to menu</button>
</div>

<div id="deck-data" class="player-container not-main" style="display: none">
    <h1>Decks</h1>
    <label for="player-select">Filter by player:</label>
    <select id="player-select" onchange="filter_decks_by_player()">
        <option value="all">All Players</option>
    </select>
    <table id="deck-table" class="data-table">
        <thead>
        <tr>
            <th>Deck</th>
            <th>Creator</th>
            <th>Games</th>
            <th>Wins</th>
            <th>Winrate</th>
        </tr>
        </thead>
        <tbody>
        <!-- Rows will be inserted here by JavaScript -->
        </tbody>
    </table>
    <button class="back-button" onclick="to_menu()">Back to menu</button>
</div>

<div id="loading" style="display:none;">Loading...</div>

</body>
</html>
